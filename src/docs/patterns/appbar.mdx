import { DemoCard, ImageGrid, MaterialDesignDescription, Divider, TOC } from '../../app/components';
import Banner from '../../app/assets/design-patterns/app-bar/appbar-banner.png';
import Search from '../../app/assets/design-patterns/app-bar/search-bar/search.gif';
import MiniSearch from '../../app/assets/design-patterns/app-bar/search-bar/mini-search.png';
import SiteSearch from '../../app/assets/design-patterns/app-bar/search-bar/site-search.png';
import PageSearch from '../../app/assets/design-patterns/app-bar/search-bar/page-search.png';
import ComponentSearch from '../../app/assets/design-patterns/app-bar/search-bar/component-search.png';
import CollapsibleAppBarDynamic from '../../app/assets/design-patterns/app-bar/collapsible-app-bar-dynamic.gif';
import CollapsibleAppBarSnap from '../../app/assets/design-patterns/app-bar/collapsible-app-bar-snap.gif';
import CollapsibleAppBar1 from '../../app/assets/design-patterns/app-bar/collapsible-app-bar-1.png';
import CollapsibleAppBar2 from '../../app/assets/design-patterns/app-bar/collapsible-app-bar-2.png';
import SafeArea from '../../app/assets/design-patterns/app-bar/safe-area.png';
import HideOnCollapse from '../../app/assets/design-patterns/app-bar/what-to-hide-on-collapse.png';
import AutoVariants from '../../app/assets/design-patterns/app-bar/search-bar/auto-complete-variants.png';
import BasicBars from '../../app/assets/design-patterns/app-bar/basic-app-bars.png';
import DropdownVariations1 from '../../app/assets/design-patterns/app-bar/dropdown-toolbar-variations-1.png';
import DropdownVariations2 from '../../app/assets/design-patterns/app-bar/dropdown-toolbar-variations-2.png';
import Specs1Image from '../../app/assets/design-patterns/app-bar/specs-1.png';
import Specs2Image from '../../app/assets/design-patterns/app-bar/specs-2.png';
import Specs3Image from '../../app/assets/design-patterns/app-bar/specs-3.png';
import Specs4Image from '../../app/assets/design-patterns/app-bar/specs-4.png';
import Specs5Image from '../../app/assets/design-patterns/app-bar/specs-5.png';
import Specs6Image from '../../app/assets/design-patterns/app-bar/specs-6.png';

<!-- KEYWORDS: design pattern appbar search collapse collapsible extend prominent toolbar banner header -->

# App Bars

<ImageGrid images={[Banner]} regularWidth />

App bars, sometimes called toolbars, are often one of the first elements you see in an application. They are primarily used to provide context for where a user is in the hierarchy of the application.

<React.Fragment>
    <MaterialDesignDescription title={'App Bars: Top'} url={`https://material.io/components/app-bars-top/`} />
    <TOC
        anchors={[
            { title: 'Introduction', hash: '#app-bars' },
            { title: 'Basic App Bar', hash: '#basic-app-bar' },
            { title: 'Collapsible App Bar', hash: '#collapsible-app-bar' },
            { title: 'Search', hash: '#search' },
            { title: 'Design Specifications', hash: '#design-specifications' },
            { title: 'Developers', hash: '#developers' },
        ]}
    />
    <Divider />
</React.Fragment>

# Basic App Bar

<ImageGrid regularWidth images={[BasicBars]} caption={'Basic app bars in order of increasing complexity.'} />

The basic app bar provides information about the current screen. Typically, this is a short title that indicates which screen the user is on (e.g., "Settings"). However, the app bar can also contain a navigation icon, subtitle, and/or various global action buttons for the screen. When placing actions in the app bar, limit yourself to no more than three. If you have more actions than this, consider grouping them into a menu.

## Dropdown Toolbar

<React.Fragment>
    <ImageGrid
        images={[DropdownVariations1, DropdownVariations2]}
        caption={[
            '1. On mobile, the dropdown toolbar opens the options panel in a bottom sheet.',
            '2. On desktop, the dropdown opens as a menu below the toolbar.',
        ]}
    />
</React.Fragment>

A special case of the basic app bar is the dropdown toolbar. This version transforms the simple text subtitle of the app bar into a dropdown menu that can be used to configure the page. For example, you may have a dropdown that allows users to switch between different physical locations on an overview screen.

<DemoCard
    repository={'Dropdown Toolbar'}
    angular={`https://stackblitz.com/github/brightlayer-ui/angular-design-patterns/tree/master?file=src%2Fapp%2Fpages%2Fapp-bar%2Fdropdown-toolbar%2Fdropdown-toolbar.component.html`}
    react={`https://codesandbox.io/s/github/brightlayer-ui/react-design-patterns/tree/master?file=/src/pages/app-bar/dropdown-toolbar/index.tsx&initialpath=/dropdown-toolbar`}
/>

## Safe Area

<ImageGrid
    regularWidth
    images={[SafeArea]}
    caption={[
        `When designing for mobile screens, make sure to take non-rectangular screens into account.`,
        `1: An incorrect design. The content bleeds into the unsafe area, and the native OS's status bar does not reflect the blue theme.`,
        `2: A correct design. All the contents are legible.`,
    ]}
/>

<Divider />

# Collapsible App Bar

In some situations, you may want to present more than just a title and subtitle in an app bar, such as a large graphic, buttons, or multiple lines of text. Collapsible app bars — sometimes referred to as expandable app bars, extended app bars, or prominent app bars — are ideal for this situation. The app bar starts out tall but will shrink as the user scrolls down the page until it becomes a basic app bar.

<React.Fragment>
    <ImageGrid
        images={[CollapsibleAppBar1, CollapsibleAppBar2]}
        caption={[
            `1: A collapsible app bar using the default blue color.`,
            `2: A collapsible app bar using a red background to indicate an alarmed status.`,
        ]}
    />
    <DemoCard
        repository={'Collapsible App Bar'}
        angular={`https://stackblitz.com/github/brightlayer-ui/angular-design-patterns/tree/master?file=src%2Fapp%2Fpages%2Fapp-bar%2Fcollapsible-app-bar%2Fcollapsible-app-bar.component.html`}
        react={`https://codesandbox.io/s/github/brightlayer-ui/react-design-patterns/tree/master?file=/src/pages/app-bar/collapsible/index.tsx&initialpath=/collapsible`}
    />
</React.Fragment>

Collapsible app bars put a greater emphasis on the app bar content on page load and provide an opportunity to show images pertinent to the page topic. This allows you the flexibility to present an eye-catching banner without permanently reducing the amount of usable space on the page. This pattern is most commonly used for mobile applications, but could also be used for web.

<ImageGrid
    images={[CollapsibleAppBarDynamic, CollapsibleAppBarSnap]}
    caption={[
        `Collapsible app bars can have two slightly different behaviors: 'dynamic', which resizes proportionally to the scroll position (first image), and  'snap', which collapses in one step once the user scrolls pass a certain threshold (second image). You should avoid using collapsible app bars on pages that do not have significant amounts of scrollable content to prevent situations where the app bar can only be partially collapsed or not collapsed at all.`,
    ]}
/>

The collapsible appbar should transition smoothly between the expanded and collapsed states — this means you will need to account for how the app bar will look throughout the transition. Because elements will disappear as the app bar shrinks, you'll need to use various transition techniques to do this smoothly, depending on your content.

<ImageGrid
    images={[HideOnCollapse]}
    caption={[
        `When a collapsible app bar (#1) collapses, you may choose to either hide the third line of text (#2) or the second line of text (#3), but the page title (first line) should never be hidden (#4).`,
    ]}
    regularWidth
/>

<Divider />

# Search

<React.Fragment>
    <ImageGrid
        images={[SiteSearch, PageSearch, ComponentSearch]}
        caption={[
            '1: Global (application-wide) search is always placed in the primary app bar.',
            '2: Page-wide search can be placed below the primary app bar when searching content on a single page or screen.',
            '3: Component-wide search allows the user to search for contents within individual components (e.g., cards, lists).',
        ]}
    />
</React.Fragment>

A very common pattern seen in many types of applications is the ability to search for data.

<DemoCard
    repository={'Global Search'}
    angular={`https://stackblitz.com/github/brightlayer-ui/angular-design-patterns/tree/master?file=src%2Fapp%2Fpages%2Fapp-bar%2Fsearch-bar%2Fsearch-bar.component.html`}
    react={`https://codesandbox.io/s/github/brightlayer-ui/react-design-patterns/tree/master?file=/src/pages/app-bar/search-bar/index.tsx&initialpath=/search`}
    reactNative
/>

<DemoCard
    repository={'Page-Wide Search'}
    angular={`https://stackblitz.com/github/brightlayer-ui/angular-design-patterns/tree/master?file=src%2Fapp%2Fpages%2Fapp-bar%2Fpage-wide-search%2Fpage-wide-search.component.html`}
    react={`https://codesandbox.io/s/github/brightlayer-ui/react-design-patterns/tree/master?file=/src/pages/app-bar/page-wide-search/PageWideSearch.tsx&initialpath=/page-wide-search`}
    reactNative
/>

## Search Bar

The search bar is used primarily when your search is a global search of all application content or when search is the primary interaction on a particular screen. This mode of search is achieved by placing a search icon/button in the primary app bar. When this button is clicked, a white search bar slides in from the right to cover the default app bar. As the user enters text into the search field, the data is filtered in real-time. A back icon will close the Search Bar and clear the search results.

<ImageGrid
    images={[Search]}
    caption={'When the search icon is clicked, a white search bar will slide in and cover the default tool bar. '}
/>

## Auto-complete

For more advanced searching, you may wish to include an auto-complete feature. You can implement autocomplete by including a contextual menu below the search bar with suggested search items. Alternatively, you can use type-ahead to automatically update the recommended search query in the search field as the user types (Google search does this).

<React.Fragment>
    <ImageGrid
        regularWidth
        images={[AutoVariants]}
        caption={[
            '1. Search suggestions are provided in a dropdown menu.',
            '2. The most likely search is shown in the search field as the user types.',
        ]}
    />
    <Divider />
</React.Fragment>

<!--
TODO: Add write up about contextual action bar here. It is already very well researched and we just need to document it
# Contextual Action Bar
<DemoCard
    repository={'Contextual Action Bar'}
    angular={`https://stackblitz.com/github/brightlayer-ui/angular-design-patterns/tree/master?file=src%2Fapp%2Fpages%2Fapp-bar%2Fcontextual%2Fcontextual.component.html`}
    react={`https://codesandbox.io/s/github/brightlayer-ui/react-design-patterns/tree/master?file=/src/pages/app-bar/contextual-action/index.tsx&initialpath=/contextual-action`}
/>
-->

# Design Specifications

## Mobile

<ImageGrid images={[Specs1Image, Specs2Image, Specs3Image, Specs5Image, Specs6Image]} regularWidth />

The App Bar subtitle typography style is subject to change based on its content or your design preference. You can read more in our [Custom Typography](/style/typography#customization) documentation.

## Desktop and Tablet

If certain dimensions are not specified, refer to the dimensions suggested in the mobile section above.

<React.Fragment>
    <ImageGrid images={[Specs4Image]} regularWidth />
    <MaterialDesignDescription
        title={'App Bars: Top'}
        description={`For additional instructions, refer to Material Design's design specs`}
        url={`https://material.io/components/app-bars-top#specs`}
    />
    <Divider />
</React.Fragment>

# Developers

Use the following components to implement this pattern:

**Angular** and **Ionic**:

-   Angular Material
    -   [@angular/material/toolbar](https://material.angular.io/components/toolbar)
-   @brightlayer-ui/angular-components
    -   [App Bar](https://brightlayer-ui-components.github.io/angular/?path=/story/components-app-bar--with-full-config)
    -   [Dropdown Toolbar](https://brightlayer-ui-components.github.io/angular/?path=/info/components-dropdown-toolbar--readme)

**React**:

-   Material UI
    -   [AppBar](https://mui.com/api/app-bar/)
    -   [Toolbar](https://mui.com/api/toolbar/)
-   @brightlayer-ui/react-components
    -   [App Bar](https://brightlayer-ui-components.github.io/react/?path=/info/components-app-bar--get-read-me-story)
    -   [Dropdown Toolbar](https://brightlayer-ui-components.github.io/react/?path=/info/components-dropdown-toolbar--get-read-me-story)

**React Native**:

-   @brightlayer-ui/react-native-components
    -   [Collapsible Header Layout](https://brightlayer-ui-components.github.io/react-native/?path=/info/components-documentation--collapsible-header-layout)
    -   [Header](https://brightlayer-ui-components.github.io/react-native/?path=/info/components-documentation--header)
